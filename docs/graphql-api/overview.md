---
sidebar_position: 10
description: Zero-config GraphQL server
---

# GraphQL server

The data indexed by a squid into a Postgres database can be automatically presented with a GraphQL API service powered by the [OpenReader](https://github.com/subsquid/squid/tree/master/openreader) lib of the Squid SDK. The OpenReader GraphQL server takes [the schema file](/basics/schema-file) as an input argument and serves a GraphQL API supporting [OpenCRUD](https://www.opencrud.org/) queries for the entities defined in the schema. 

To start the API server based on the `schema.graphql` run in the root folder:
```bash
npx squid-graphql-server
```
The `squid-graphql-server` binary supports multiple optional flags to enable e.g. caching, subscriptions, DoS protection, covered in the next sections.

The API server listens at port defined by `GQL_PORT` (default to `4350`). The database connection is configured with the env variables `DB_NAME`, `DB_USER`, `DB_PASS`, `DB_HOST`, `DB_PORT`.

The GraphQL API is enabled by the `api:` service in the `deploy` section of [squid.yaml](/deploy-squid/deploy-manifest) for Aquarium deployments.

## Supported Queries

The details of the supported OpenReader queries can be found in a separate section [Query a Squid](/query-squid). Here is a brief overview of the queries generated by OpenReader for each entity defined in the schema file:

- the squid last processed block is available with `squidStatus { height }` query 
- a "get one by ID" query with the name `{entityName}ById` for each [entity](/basics/schema-file/entities) defined in the schema file
- a "get one" query for [`@unique` fields](/basics/schema-file/indexes-and-constraints), with the name `{entityName}ByUniqueInput`
- Entity queries named `{entityName}sConnection`. Each query supports rich filtering support, including [field-level filters](/query-squid/queries), composite [`AND` and `OR` filters](/query-squid/and-or-filters), [nested queries](/query-squid/nested-field-queries), [cross-relation queries](/query-squid/cross-relation-field-queries) and [Relay-compatible](https://relay.dev/graphql/connections.htm) cursor-based [pagination](/query-squid/paginate-query-results).
- [Subsriptions](/graphql-api/subscriptions) via live queries
- (Deprecated in favor of Relay connections) Lookup queries with the name `{entityName}s`. 

[Union and typed JSON types](/basics/schema-file/unions-and-typed-json) are mapped into [GraphQL Union Types](https://graphql.org/learn/schema/#union-types) with a proper type resolution with `__typename`.

## Built-in custom scalars

The OpenReader GraphQL API defines the following custom scalars in the GraphQL to present the corresponding entity fields:

- `DateTime`: `DateTime` fields in the schema are presented in the ISO format
- `Bytes`: `Bytes` fields are presented as hex-encoded strings prefixed with `0x`
- `BigInt`: `BigInt` fields are presented as strings